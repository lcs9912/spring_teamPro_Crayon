![crayon_logo](https://github.com/wuuuugi/shopping/assets/137017155/fff55294-d8ef-4f0b-805d-0bbda4a85ba3)
<div style="text-align: center;"><h1>CRAYON</h1></div>

<br>

# ğŸ“–í”„ë¡œì íŠ¸ ì†Œê°œ

> 'Crayon'ì„ ì†Œê°œí•©ë‹ˆë‹¤ ( â€¢âŒ„â€¢ à¥‚ )âœ§( â€¢âŒ„â€¢ à¥‚ )âœ§( â€¢âŒ„â€¢ à¥‚ )âœ§
> 
í•œì •íŒ ì˜ë¥˜ ë° ì‹ ë°œë“± ë‹¤ì–‘í•œ í•œì •íŒ ì œí™”ë¥¼ ì¢‹ì•„í•˜ëŠ” ì‚¬ëŒë“¤ì„ ìœ„í•œ í•œì •íŒ ìƒí’ˆ íŒë§¤/êµ¬ë§¤ ë° ì •ë³´ ì œê³µì´ ê°€ëŠ¥í•œ ì›¹ í”Œë«í¼ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.
<br>
<br>

## ğŸ“œì„œë¹„ìŠ¤ ë‚´ìš©

- íŒë§¤ìì™€ êµ¬ë§¤ìì˜ ê²½ê³„ì—†ì´ ëª¨ë“  íšŒì›ì´ íŒë§¤ìì™€ êµ¬ë§¤ìê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
  - íŒë§¤ìëŠ” ìƒí’ˆ ë“±ë¡ì´ ê°€ëŠ¥í•˜ê³  êµ¬ë§¤ìëŠ” ìƒí’ˆ êµ¬ë§¤ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
  - íŒë§¤ìë„ ìƒí’ˆ êµ¬ë§¤ê°€ ê°€ëŠ¥í•˜ê³ , êµ¬ë§¤ìë„ ìƒí’ˆ ë“±ë¡ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- ì‚¬ìš©ìê°€ ì§€ì •í•œ ê²€ìƒ‰ ì¡°ê±´ìœ¼ë¡œ ìƒí’ˆì„ ê²€ìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
  - ì¹´í…Œê³ ë¦¬ë³„, ì¸ê¸°ìˆœìœ¼ë¡œë„ ìƒí’ˆ ì¡°íšŒê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- í•œì •íŒ ìƒí’ˆì˜ ì‹œì„¸ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
- í•œì •íŒ ìƒí’ˆì˜ ê²½ë§¤ ë“±ë¡ ë° ë‚™ì°° ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ“†ê°œë°œ ê¸°ê°„ 

- 2023-08-09 ~ 2023.08.29

## ğŸ› ê¸°ìˆ  ìŠ¤íƒ

- Spring Boot
- HTML, CSS, JavaScript
- Vue.js, jQuery
- MySQL

## ğŸ‘ªíŒ€ ì†Œê°œ

| ì´ë¦„         | ì—­í•                                |
|:------------:|:----------------------------------:|
| ê°•ë„í˜„(FE)   | ë¡œê·¸ì¸, ì•„ì´ë”” ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°, íšŒì›ê°€ì…, ê³ ê°ì„¼í„°, ìƒí’ˆí˜ì´ì§€ |
| ì¥ìŠ¹í˜¸(FE)   | ì›¹ë””ìì¸, í™”ë©´ì„¤ê³„ì´ë¯¸ì§€, ì œì‘ ë°ì´í„° ìˆ˜ì§‘, CSS ì „ì œ ì •ë¹„, ë©”ì¸ í˜ì´ì§€ ìŠ¬ë¼ì´ë”, ë¡œê³  ì—ë‹ˆë©”ì´ì…˜ |
| ì†ëª…ìš±(BE)   | ğŸ’¡íŒ€ì¥ğŸ’¡, í¬ì¸íŠ¸ ì¶©ì „, ê²½ë§¤í˜ì´ì§€, ê²½ë§¤ í˜ì´ì§€, ê³ ê°ì„¼í„°, DB ì„¤ê³„ ë°ì´í„° ìˆ˜ì§‘ |
| ì„œë³´ê·œ(BE)   | íšŒì›ê°€ì…, ìŠ¤íƒ€ì¼ ê²Œì‹œíŒ, ìƒí’ˆ ì´ë¯¸ì§€ ì¶œë ¥, ìƒí’ˆ ë“±ë¡, ìƒí’ˆ íŒë§¤, ê²°ì œ ë‚´ì—­ |
| ì´ì°¬ì‹ (BE)   | êµ¬ë§¤, íŒë§¤ ë‚´ì—­, ë§ˆì´í˜ì´ì§€, í”„ë¡œí•„ ê´€ë¦¬ ì£¼ì†Œë¡, ê²°ì œ ë‚´ì—­, í¬ì¸íŠ¸ ì¶©ì „ |

## ğŸ“‚í”„ë¡œì íŠ¸ êµ¬ì„±ë„

- ERD

![drawio jpg](https://github.com/wuuuugi/shopping/assets/137017155/2eb4e19a-075a-4170-a5c7-095fef310907)


## ğŸ’»ë‹´ë‹¹ ì—­í• 

### ìƒí’ˆ ì¹´í…Œê³ ë¦¬ (SHOPí˜ì´ì§€)
  <br />
  
  <img src="https://github.com/lcs9912/spring_teamPro_Crayon/assets/137017212/779d34c3-b321-420c-97a2-08788e83075d" alt="SHOPí˜ì´ì§€" width="400"/>
  <img src="https://github.com/lcs9912/spring_teamPro_Crayon/assets/137017212/da73041e-0671-49ea-9417-32b387c27750" alt="SHOPí˜ì´ì§€ì¹´í…Œê³ ë¦¬" width="400"/>
  
  <h4>ì¹´í…Œê³ ë¦¬ë³„ ìƒí’ˆê³¼ ê²€ìƒ‰ ê¸°ëŠ¥ì„ ìœ„í•´ CheckBox ì˜ VALUE ë¥¼ JSONì˜ ë¬¸ìì—´ í˜•íƒœë¡œ ë³€í™˜í›„ @RequestMapping ìœ¼ë¡œ ê°’ì„ ë°›ì•„ ì¿¼ë¦¬ë¬¸ì— ì ìš© í•˜ì˜€ìŠµë‹ˆë‹¤.</h4>
  
- CheckBoxì˜ VALUE ë¥¼ JSONì˜ ë¬¸ìì—´ í˜•íƒœë¡œ ë°˜í™˜í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤.
  
   ```
      fnGetList : function(){
              var self = this;
              var arrSize = JSON.stringify(self.sizeArr);
              var arrCate1 = JSON.stringify(self.cate1Value);
              var arrCate2 = JSON.stringify(self.cate2Value);
              console.log(self.seachName);
              var nparmap = {
              		searchName : self.searchName,
              		sizeArr : arrSize,
              		cate1Value : arrCate1,
              		cate2Value : arrCate2
              }
                $.ajax({
                      url:"/shopList.dox",
                      dataType:"json",
                      type : "POST",
                      data : nparmap,
                      success : function(data) {
                      	self.shopList = data.shopList;
                      	console.log(self.shopList);
                      	console.log(self.sizeArr);
                      	if(self.searchName != "" && self.searchName != null){
                      		self.searchFlg = true;
                      	}else{
                      		self.searchFlg = false;
                      	}	
                      }
                  });
          },
   ```

<ul>
  <li>
	@RequestMapping ìœ¼ë¡œ ê°’ì„ ë°›ì•„ JSON ë¬¸ìì—´ì—ì„œ List<Object>ë¡œ ë³€í™˜í•˜ì—¬ ë‹¤ì‹œ mapì— ë„£ì–´ì£¼ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤.
  </li>
</ul>

   ```
    	// SHOP ë¦¬ìŠ¤íŠ¸ ì¶œë ¥
    	@RequestMapping(value = "/shopList.dox", method = RequestMethod.POST, produces = "application/json;charset=UTF-8")
    	@ResponseBody
    	public String ShopList(Model model, @RequestParam HashMap<String, Object> map) throws Exception {
    		HashMap<String, Object> resultMap = new HashMap<String, Object>();
    		
    		// ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰
    	      if (map.get("sizeArr") != null) {
    	         String json = map.get("sizeArr").toString();
    	         ObjectMapper mapper = new ObjectMapper();
    	         List<Object> sizeArr = mapper.readValue(json, new TypeReference<List<Object>>(){});
    	         map.put("sizeArr", sizeArr);
    	      }
    	      if (map.get("cate1Value") != null) {
    		         String json = map.get("cate1Value").toString();
    		         ObjectMapper mapper = new ObjectMapper();
    		         List<Object> cate1Value = mapper.readValue(json, new TypeReference<List<Object>>(){});
    		         map.put("cate1Value", cate1Value);
    		      }
    	      if (map.get("cate2Value") != null) {
    		         String json = map.get("cate2Value").toString();
    		         ObjectMapper mapper = new ObjectMapper();
    		         List<Object> cate2Value = mapper.readValue(json, new TypeReference<List<Object>>(){});
    		         map.put("cate2Value", cate2Value);
    		      }
    	      
    	    // ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰  ë¦¬ìŠ¤íŠ¸ ì¶œë ¥ 
    		List<Main> shopList = mainService.searchShopList(map);
    		resultMap.put("shopList", shopList);
    		return new Gson().toJson(resultMap);
    	}
   ```

<ul>
	<li>
		ìƒí’ˆë¦¬ìŠ¤íŠ¸ ì¶œë ¥ ì¿¼ë¦¬ë¬¸ì…ë‹ˆë‹¤.
	</li>
</ul>

  ```
      <!-- SHOP ë¦¬ìŠ¤íŠ¸ ì¶œë ¥ -->
  	<select id="selectShopList" parameterType="hashmap"
  		resultType="com.example.sample1.model.Main">
  		SELECT * 
  		FROM T1_PRODUCT_UPDATE U
  		INNER JOIN T1_PRODUCT_IMG I
  		ON I.PRODUCT_NAME = U.PRODUCT_NAME
  		INNER JOIN T1_PRODUCT_BRAND B
  		ON B.PRODUCT_BRAND = U.PRODUCT_BRAND
  		LEFT JOIN(
  				SELECT PRODUCT_MODEL, MIN(PRODUCT_PRICE) AS BUYMINPRICE
  				FROM T1_PRODUCT_UPDATE 
  				WHERE SELLBUY = 'B'
  				GROUP BY PRODUCT_MODEL
  		) M ON M.PRODUCT_MODEL = U.PRODUCT_MODEL
  		WHERE 1=1
  		<if test="searchName != '' and  searchName != null">
  			AND (U.PRODUCT_NAME LIKE  CONCAT('%',#{searchName},'%')
  					 OR U.PRODUCT_KNAME LIKE CONCAT('%',#{searchName},'%')
  					 OR B.BRAND_NAME LIKE CONCAT('%',#{searchName},'%'))
  		</if>
  		<if test="sizeArr != null  and sizeArr.size() > 0">
  		AND U.PRODUCT_SIZE IN
  			<foreach item="sizeItem" index="index" open="(" close=")" separator="," collection="sizeArr">
                 #{sizeItem}
              </foreach>
  		</if>
  		<if test="cate1Value != null and cate1Value.size() > 0">
  	    AND U.PRODUCT_CATEGORIE1 IN
  			<foreach item="cate1Item" index="index" open="(" close=")" separator="," collection="cate1Value">
  				#{cate1Item}
  			</foreach>
  		</if>
  		<if test="cate2Value != null and cate2Value.size() > 0">
  	    AND U.PRODUCT_CATEGORIE2 IN
  			<foreach item="cate2Item" index="index" open="(" close=")" separator="," collection="cate2Value">
  				#{cate2Item}
  			</foreach>
  		</if>
  		<if test="priceValue != null and priceValue.size() > 0">
  		AND U.PRODUCT_PRICE BETWEEN
  			<foreach item="priceItem" index="index" open="(" close=")" separator="," collection="priceValue">
  				#{priceItem}
  			</foreach>
  		</if>
  		GROUP BY U.PRODUCT_MODEL
  		ORDER BY U.PRODUCT_INTEREST DESC
  	</select>
  ```
<br>

### ê²€ìƒ‰ê¸°ëŠ¥
<br>

<img src="https://github.com/lcs9912/spring_teamPro_Crayon/assets/137017212/cdf3d24b-c0bc-457d-87ff-dd47d85f01e5" alt="ê²€ìƒ‰í˜ì´ì§€" width="400">
<img src="https://github.com/lcs9912/spring_teamPro_Crayon/assets/137017212/3111e3a1-785e-4f6e-9e4d-bd0e41b3da4d" alt="ê²€ìƒ‰ì™„ë£Œ" width="400">

ê²€ìƒ‰ ê¸°ëŠ¥ì„ìœ„í•´ ê²€ìƒ‰í˜ì´ì§€ì—ì„œ ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥ë°›ì•„ JSONì˜ ë¬¸ìì—´ í˜•íƒœë¡œ SHOP í˜ì´ì§€ë¡œ í˜ì´ì§€ì „í™˜ì„ í•©ë‹ˆë‹¤.

- ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥ë°›ê³  í˜ì´ì§€ì „í™˜ì„ í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤.
   ```
     // ê²€ìƒ‰
		fnSearch : function(searchName){
			var self = this;
			var nparmap = {searchName : self.searchName, uId : self.uId};
			   $.ajax({
	                url:"/search.dox", 
	                dataType:"json", 
	                type : "POST",  
	                data : nparmap, 
	                success : function(data) {
	                	self.fnSearchList();
	            		self.fnUserSearchList();
						$.pageChange("/mainpageshopping.do", {searchName : self.searchName});  
	                }
	            });   
		},
   ```
- ì…ë ¥ ë°›ì€ ê²€ìƒ‰ì–´ë¥¼ JSON ì˜ ë¬¸ìì—´ í˜•íƒœë¡œ ë³€í™˜í›„ í˜ì´ì§€ ì´ë™ì„ ì‹œì¼œì£¼ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.
   ```
     pageChange : function(url, param) {
		var target = "_self";
		if(param == undefined){
			return;
		}
		var form = document.createElement("form"); 
			form.name = "dataform";
			form.action = url;
			form.method = "post";
			form.target = target;
		for(var name in param){
			var item = name;
			var val = "";
			if(param[name] instanceof Object){
				val = JSON.stringify(param[name]);
			} else {
				val = param[name];
			}
			var input = document.createElement("input");
			input.type = "hidden";
			input.name = item;
			input.value = val;
			form.insertBefore(input, null);
		}
		document.body.appendChild(form);
		form.submit();
		document.body.removeChild(form);
	},
   ```
